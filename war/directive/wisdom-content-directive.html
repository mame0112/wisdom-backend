<div ng-controller="wisdomDetailController" ng-init="initialize()" class="wisdom">
	<div class="titlearea">
		  <div class="thumbnail">
				<div class="image" ng-style="{'background': colorGenerater.generateColor(wisdom.title)}">
					<div class="text">{{wisdom.title | capitalize}}</div>
				</div>
		  </div>
		  <!--
		  <embed ng-src="{{content}}" style="width:200px;height:200px;"></embed>
		  -->
		  <div class="content">
		  	<div class="category" translate="wisdom.category" translate-values="{value1: wisdom.category, value2: wisdom.subcategory}">Wisdom for {{wisdom.category}} > {{wisdom.subcategory}}</div>
		    <div class="title">{{wisdom.title}}</div>
			<div class="description">{{wisdom.description}}</div>
			<div class="tag"><p>{{wisdom.tag}}</p></div>
			<div class="status">
				<div class="updateDate">
				<p translate="wisdom.last_update" class="note">Last updated:</p> {{formatTimeInfo(wisdom.updated_date)}}</div>
				<div class="viewinfo">
					<ul>
						<li><div class="viewnum">{{wisdom.count}}</div></li>
						<li>view</li>
					</ul>
				</div>
			</div>
		  </div>
	</div>

	<div class="bodyarea">
		<ul ng-repeat="entry in messages track by $index">
			<li>
				<p ng-show="{{entry.tag}} == 1" class="subtitle">{{entry.message}}</p>
				<div class="message">
					<p ng-show="{{entry.tag}} == 2" class="messageBody">{{entry.message}}</p>
					<div class="update" ng-show="isValidDateFormat(entry.updated_date)">
						<!-- <p translate="wisdom.last_update" class="description">Last updated: </p> -->
						<p>{{formatTimeInfo(entry.updated_date)}}</p>
					</div>
					<div class="like" ng-show="{{entry.tag}} == 2"><a href="" ng-click="likeButtonPress($index)"><img ng-src="{{likeImage[$index]}}"></a>{{entry.like_num}}</div>
				</div>
			</li>
		</ul>
	</div>
	<hr>
	<div class="accountSelector">
		<p translate="wisdom.join" class="description">
		How about join in 'chienowa' and spread your wisdom to beginners?
		</p>
		<div class="buttons">
			<button type="submit" class="btn btn-primary" name="modify" ng-model="modify" ng-click="modifyWisdom()" ng-show="isSignedIn() == true" translate="wisdom.modify_wisdom" analytics-on="click" analytics-category="Wisdom detail" analytics-event="Modify wisdom">Modify wisdom</button>
			<div ng-show="isSignedIn() == false">
				<button type="submit" class="btn btn-primary" name="modify" ng-model="modify" ng-click="createAccount()" translate="wisdom.create_account" analytics-on="click" analytics-category="Wisdom detail" analytics-event="Create account">
				Create account
				</button>
				<p translate="wisdom.or">or</p>
				 <a ui-sref="signin" translate="wisdom.signin" analytics-on="click" analytics-category="Wisdom detail" analytics-event="Sign in">Sign in</a>
			</div>
		</div>
	</div>
</div>
